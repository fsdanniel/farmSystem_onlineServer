<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Gerenciamento de Granja</title>

    <link rel="stylesheet" href="css/global/global.css">
    <link rel="stylesheet" href="css/app.css">
</head>
<body>
        <header class="header">
        <div class="header-content">
            <h1>Sistema de Gestão da Granja</h1>
            <div class="user-info">
                <span class="user-name" id="nome-veterinario-header">Carregando...</span>
                <button class="btn btn-danger" id="btn-logout">Sair</button>
            </div>
        </div>
    </header>

    <main class="main-content">
        <nav class="sidebar">
            <ul class="nav-menu">
                <li><a href="#relatorios" class="nav-link active" data-section="relatorios">Relatórios</a></li>
                <li><a href="#geneticas" class="nav-link" data-section="geneticas">Genéticas</a></li>
                <li><a href="#lotes" class="nav-link" data-section="lotes">Lotes</a></li>
                <li><a href="#ocorrencias" class="nav-link" data-section="ocorrencias">Ocorrências</a></li>
                <li><a href="#insumos" class="nav-link" data-section="insumos">Gestão de Insumos</a></li>
                <li><a href="#registros" class="nav-link" data-section="registros">Registro de Eventos</a></li>
                <li><a href="#bercario" class="nav-link" data-section="bercario">Berçário</a></li>
                <li><a href="#maternidade" class="nav-link" data-section="maternidade">Maternidade</a></li>
                <li><a href="#inseminacao" class="nav-link" data-section="inseminacao">Inseminação</a></li>
            </ul>
        </nav>

        <section class="content">

            <div id="relatorios-section" class="section active">
                <div class="section-header">
                    <h2>Relatórios</h2>
                </div>

                <div class="reports-grid">
                    <div class="report-card"><h3>Genéticas Ativas</h3><div class="report-value" id="total-geneticas">0</div><p>Total de genéticas cadastradas</p></div>
                    <div class="report-card"><h3>Lotes Ativos</h3><div class="report-value" id="total-lotes">0</div><p>Total de lotes em produção</p></div>
                    <div class="report-card"><h3>Animais Total</h3><div class="report-value" id="total-animais">0</div><p>Soma de todos os animais</p></div>
                    <div class="report-card"><h3>Lotes em Quarentena</h3><div class="report-value" id="lotes-quarentena">0</div><p>Lotes que precisam de atenção</p></div>
                    <div class="report-card"><h3>Leitões no Berçário</h3><div class="report-value" id="total-leitoes-bercario">0</div><p>Leitões em crescimento</p></div>
                    <div class="report-card"><h3>Porcas Gestantes</h3><div class="report-value" id="total-porcas-gestantes">0</div><p>Porcas em gestação</p></div>
                    <div class="report-card"><h3>Porcas Lactantes</h3><div class="report-value" id="total-porcas-lactantes">0</div><p>Porcas amamentando</p></div>
                    <div class="report-card"><h3>Inseminações Pendentes</h3><div class="report-value" id="total-inseminacoes-pendentes">0</div><p>Aguardando verificação</p></div>
                </div>

                <div class="card-painel" style="margin-top: 30px;">
                    <h2>Gerador de Relatórios</h2>
                    
                    <div class="filters" id="filtroRelatorio">
                        <div class="grupo-formulario">
                            <label for="tipoRelatorio">Tipo de relatório:</label>
                            <select id="tipoRelatorio">
                                <option value="">-- Selecione --</option>
                                <option value="partos">Partos</option>
                                <option value="desmames">Desmames</option>
                            </select>
                        </div>
                        <div class="grupo-formulario">
                            <label for="dataInicio">Data inicial:</label>
                            <input type="date" id="dataInicio" />
                        </div>
                        <div class="grupo-formulario">
                             <label for="dataFim">Data final:</label>
                            <input type="date" id="dataFim" />
                        </div>
                        
                        <button type="button" id="btnFiltrar" class="btn btn-primary" style="align-self: flex-end; width: auto; padding: 12px 24px;">Gerar Relatório</button>
                    </div>

                    <h3 style="margin-top: 30px;">Resultados</h3>
                    <div class="table-container">
                        <table class="data-table" id="tabelaResultados">
                            <thead>
                                <tr>
                                    <th>Data</th>
                                    <th>Lote / Matriz</th>
                                    <th>Quantidade</th>
                                    <th>Observações</th>
                                </tr>
                            </thead>
                            <tbody id="tbody-relatorios">
                                <tr><td colspan="4" style="text-align: center;">Selecione os filtros acima para gerar um relatório.</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div id="geneticas-section" class="section">
                <div class="section-header">
                    <h2>Gerenciamento de Genéticas</h2>
                    <button class="btn btn-primary" id="btn-abrir-modal-genetica">Nova Genética</button>
                </div>
                <div class="filters">
                    <div class="grupo-formulario">
                        <label for="filtro-genetica">Filtrar por nome:</label>
                        <input type="text" id="filtro-genetica" placeholder="Digite o nome da genética">
                    </div>
                </div>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nome</th>
                                <th>Descrição</th>
                                <th>Características</th>
                                <th>Status</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody id="tabela-geneticas">
                        </tbody>
                    </table>
                </div>
            </div>

            <div id="lotes-section" class="section">
                <div class="section-header">
                    <h2>Gerenciamento de Lotes</h2>
                    <button class="btn btn-primary" id="btn-abrir-modal-lote">Novo Lote</button>
                </div>
                <div class="filters">
                    <div class="grupo-formulario">
                        <label for="filtro-lote-genetica">Filtrar por genética:</label>
                        <select id="filtro-lote-genetica"><option value="">Todas as genéticas</option></select>
                    </div>
                    <div class="grupo-formulario">
                        <label for="filtro-lote-status">Filtrar por status:</label>
                        <select id="filtro-lote-status"><option value="">Todos os status</option><option value="ativo">Ativo</option><option value="inativo">Inativo</option><option value="quarentena">Quarentena</option></select>
                    </div>
                </div>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nome</th>
                                <th>Genética</th>
                                <th>Qtd. Animais</th>
                                <th>Data Criação</th>
                                <th>Status</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody id="tabela-lotes">
                        </tbody>
                    </table>
                </div>
            </div>

            <div id="ocorrencias-section" class="section">
                <div class="section-header">
                    <h2>Ocorrências e Atualizações de Lotes</h2>
                    <button class="btn btn-primary" id="btn-abrir-modal-ocorrencia">Nova Ocorrência</button>
                </div>
                <div class="filters">
                    <div class="grupo-formulario"><label for="filtro-ocorrencia-lote">Filtrar por lote:</label><select id="filtro-ocorrencia-lote"><option value="">Todos os lotes</option></select></div>
                    <div class="grupo-formulario"><label for="filtro-ocorrencia-tipo">Tipo de ocorrência:</label><select id="filtro-ocorrencia-tipo"><option value="">Todos os tipos</option><option value="sanitaria">Sanitária</option><option value="alimentacao">Alimentação</option><option value="medicamento">Medicamento</option><option value="transferencia">Transferência</option><option value="observacao">Observação</option><option value="vacina">Vacina</option><option value="morte">Morte</option></select></div>
                    <div class="grupo-formulario"><label for="filtro-ocorrencia-prioridade">Prioridade:</label><select id="filtro-ocorrencia-prioridade"><option value="">Todas as prioridades</option><option value="baixa">Baixa</option><option value="media">Média</option><option value="alta">Alta</option><option value="critica">Crítica</option></select></div>
                </div>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Data/Hora</th>
                                <th>Lote</th>
                                <th>Tipo</th>
                                <th>Prioridade</th>
                                <th>Título</th>
                                <th>Status</th>
                                <th>Veterinário</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody id="tabela-ocorrencias">
                        </tbody>
                    </table>
                </div>
                <div class="ocorrencias-resumo">
                    <div class="resumo-card urgente"><h4>Ocorrências Críticas</h4><div class="resumo-valor" id="ocorrencias-criticas">0</div><p>Requerem atenção imediata</p></div>
                    <div class="resumo-card pendente"><h4>Pendentes</h4><div class="resumo-valor" id="ocorrencias-pendentes">0</div><p>Aguardando resolução</p></div>
                    <div class="resumo-card resolvido"><h4>Resolvidas Hoje</h4><div class="resumo-valor" id="ocorrencias-resolvidas-hoje">0</div><p>Concluídas nas últimas 24h</p></div>
                </div>
            </div>

            <div id="insumos-section" class="section">
                <div class="section-header">
                    <h2>Gestão de Insumos e Estoque</h2>
                </div>
                <div class="cards-wrapper">
                    <div class="card-painel">
                        <h2>Registrar Compra de Insumo</h2>
                        <form id="form-compra">
                            <div class="grupo-formulario"><label for="compra-insumo">Insumo</label><select id="compra-insumo" required><option value="">Selecione o insumo...</option></select></div>
                            <div class="grupo-formulario"><label for="compra-data">Data da Compra</label><input type="date" id="compra-data" required></div>
                            <div class="grupo-formulario"><label for="compra-quantidade">Quantidade</label><input type="number" id="compra-quantidade" min="0.01" step="0.01" placeholder="Ex: 100.5" required></div>
                            <div class="grupo-formulario"><label for="compra-fornecedor">Fornecedor</label><input type="text" id="compra-fornecedor" placeholder="Nome do fornecedor"></div>
                            <div class="grupo-formulario"><label for="compra-custo">Custo Total (R$)</label><input type="number" id="compra-custo" min="0.01" step="0.01" placeholder="Ex: 1500.00"></div>
                            <button type="submit" id="botao-registrar" class="btn btn-primary">Registrar Compra</button>
                        </form>
                    </div> <div class="card-painel">
                        <h2>Consulta de Estoque e Histórico</h2>
                        <h3>Estoque Atual</h3>
                        <div class="table-container">
                            <table class="data-table" id="tabela-estoque-atual">
                                <thead>
                                    <tr>
                                        <th>Insumo</th>
                                        <th>Qtd. em Estoque</th>
                                        <th>Unidade</th>
                                    </tr>
                                </thead>
                                <tbody id="tbody-estoque-atual">
                                    <tr><td colspan="3">Carregando...</td></tr>
                                </tbody>
                            </table>
                        </div>
                        <h3>Histórico de Compras</h3>
                        <div class="table-container">
                            <table class="data-table" id="tabela-historico-compras">
                                <thead>
                                    <tr>
                                        <th>Data</th>
                                        <th>Insumo</th>
                                        <th>Qtd.</th>
                                        <th>Fornecedor</th>
                                        <th>Custo (R$)</th>
                                        <th>Ações</th>
                                    </tr>
                                </thead>
                                <tbody id="tbody-historico-compras">
                                    <tr><td colspan="6">Carregando...</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div> </div> </div>
            <div id="registros-section" class="section">
                <div class="section-header">
                    <h2>Registro de Eventos</h2>
                </div>
                <div class="card-painel" style="max-width: 800px; margin: 0 auto;">
                    <div class="grupo-formulario">
                        <label for="tipoEvento">Selecione o tipo de evento:</label>
                        <select id="tipoEvento">
                            <option value="">-- Selecione --</option>
                            <option value="cobertura">Cobertura / Inseminação</option>
                            <option value="parto">Parto</option>
                            <option value="desmame">Desmame</option>
                            <option value="mortalidade">Mortalidade</option>
                        </select>
                    </div>

                    <form id="formCobertura" class="form-section">
                        <h3>Registrar Cobertura / Inseminação</h3>
                        <div class="grupo-formulario"><label>Data da cobertura:</label><input type="date" /></div>
                        <div class="grupo-formulario"><label>ID da matriz:</label><input type="text" placeholder="Ex: 0321" /></div>
                        <div class="grupo-formulario"><label>Tipo de inseminação:</label><select><option>Natural</option><option>Artificial</option></select></div>
                        <div class="grupo-formulario"><label>Observações:</label><textarea rows="3"></textarea></div>
                        <button type="button" class="btn btn-primary">Registrar Cobertura</button>
                    </form>
            
                    <form id="formParto" class="form-section">
                        <h3>Registrar Parto</h3>
                        <div class="grupo-formulario"><label>Data do parto:</label><input type="date" /></div>
                        <div class="grupo-formulario"><label>ID da matriz:</label><input type="text" placeholder="Ex: 0321" /></div>
                        <div class="grupo-formulario"><label>Quantidade de leitões nascidos:</label><input type="number" min="0" /></div>
                        <div class="grupo-formulario"><label>Observações:</label><textarea rows="3"></textarea></div>
                        <button type="button" class="btn btn-primary">Registrar Parto</button>
                    </form>
            
                    <form id="formDesmame" class="form-section">
                        <h3>Registrar Desmame</h3>
                        <div class="grupo-formulario"><label>Data do desmame:</label><input type="date" /></div>
                        <div class="grupo-formulario"><label>ID do lote:</label><input type="text" placeholder="Ex: Lote 12" /></div>
                        <div class="grupo-formulario"><label>Quantidade de leitões desmamados:</label><input type="number" min="0" /></div>
                         <div class="grupo-formulario"><label>Observações:</label><textarea rows="3"></textarea></div>
                        <button type="button" class="btn btn-primary">Registrar Desmame</button>
                    </form>
            
                    <form id="formMortalidade" class="form-section">
                        <h3>Registrar Mortalidade</h3>
                        <div class="grupo-formulario"><label>Data da ocorrência:</label><input type="date" /></div>
                        <div class="grupo-formulario"><label>ID do animal ou lote:</label><input type="text" placeholder="Ex: Lote 07" /></div>
                        <div class="grupo-formulario"><label>Causa da mortalidade:</label><input type="text" placeholder="Ex: infecção, esmagamento..." /></div>
                         <div class="grupo-formulario"><label>Observações:</label><textarea rows="3"></textarea></div>
                        <button type="button" class="btn btn-primary">Registrar Mortalidade</button>
                    </form>
                </div>
            </div>
            <div id="bercario-section" class="section">
                <div class="section-header">
                    <h2>Gerenciamento do Berçário</h2>
                    <button class="btn btn-primary" id="btn-abrir-modal-bercario">Novo Registro</button>
                </div>
                <div class="filters">
                    <div class="grupo-formulario"><label for="filtro-bercario-lote">Filtrar por lote:</label><select id="filtro-bercario-lote"><option value="">Todos os lotes</option></select></div>
                    <div class="grupo-formulario"><label for="filtro-bercario-status">Filtrar por status:</label><select id="filtro-bercario-status"><option value="">Todos os status</option><option value="ativo">Ativo</option><option value="desmamado">Desmamado</option><option value="transferido">Transferido</option></select></div>
                </div>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Lote</th>
                                <th>Qtd. Leitões</th>
                                <th>Data Nascimento</th>
                                <th>Peso Médio (kg)</th>
                                <th>Status</th>
                                <th>Data Desmame</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody id="tabela-bercario">
                        </tbody>
                    </table>
                </div>
            </div>

            <div id="maternidade-section" class="section">
                <div class="section-header">
                    <h2>Ala de Maternidade</h2>
                    <button class="btn btn-primary" id="btn-abrir-modal-maternidade">Nova Porca</button>
                </div>
                <div class="filters">
                    <div class="grupo-formulario"><label for="filtro-maternidade-genetica">Filtrar por genética:</label><select id="filtro-maternidade-genetica"><option value="">Todas as genéticas</option></select></div>
                    <div class="grupo-formulario"><label for="filtro-maternidade-status">Filtrar por status:</label><select id="filtro-maternidade-status"><option value="">Todos os status</option><option value="gestante">Gestante</option><option value="lactante">Lactante</option><option value="disponivel">Disponível</option><option value="recuperacao">Recuperação</option></select></div>
                </div>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Brinco</th>
                                <th>Genética</th>
                                <th>Data Cobertura</th>
                                <th>Data Parto Prev.</th>
                                <th>Qtd. Leitões</th>
                                <th>Status</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody id="tabela-maternidade">
                        </tbody>
                    </table>
                </div>
            </div>

            <div id="inseminacao-section" class="section">
                <div class="section-header">
                    <h2>Controle de Inseminação</h2>
                    <button class="btn btn-primary" id="btn-abrir-modal-inseminacao">Nova Inseminação</button>
                </div>
                <div class="filters">
                    <div class="grupo-formulario"><label for="filtro-inseminacao-periodo">Período:</label><select id="filtro-inseminacao-periodo"><option value="">Todos os períodos</option><option value="7">Últimos 7 dias</option><option value="30">Últimos 30 dias</option><option value="90">Últimos 90 dias</option></select></div>
                    <div class="grupo-formulario"><label for="filtro-inseminacao-resultado">Resultado:</label><select id="filtro-inseminacao-resultado"><option value="">Todos</option><option value="aguardando">Aguardando</option><option value="positivo">Positivo</option><option value="negativo">Negativo</option></select></div>
                </div>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Brinco Fêmea</th>
                                <th>Genética Macho</th>
                                <th>Data Inseminação</th>
                                <th>Técnica</th>
                                <th>Resultado</th>
                                <th>Data Verificação</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody id="tabela-inseminacao">
                        </tbody>
                    </table>
                </div>
            </div>

        </section> </main>

    <div id="modal-genetica" class="modal"> </div>
    <div id="modal-lote" class="modal"> </div>
    <div id="modal-bercario" class="modal"> </div>
    <div id="modal-maternidade" class="modal"> </div>
    <div id="modal-inseminacao" class="modal"> </div>
    <div id="modal-ocorrencia" class="modal modal-large"> </div>

    <div id="modal-confirmacao" class="modal-overlay hidden">
        <div class="modal-content modal-pequeno">
            <h2 id="confirmacao-titulo">Confirmar Ação</h2>
            <p id="confirmacao-mensagem">Você tem certeza?</p>
            <div class="modal-botoes">
                <button id="btn-confirmar-acao" class="btn btn-danger">Confirmar</button>
                <button id="btn-cancelar-acao" class="btn btn-secondary">Cancelar</button>
            </div>
        </div>
    </div>
    <div id="modal-notificacao" class="modal-overlay hidden">
        <div class="modal-content modal-pequeno">
            <h2 id="notificacao-titulo">Sucesso!</h2>
            <p id="notificacao-mensagem">A operação foi concluída.</p>
            <div class="modal-botoes">
                <button id="btn-ok-notificacao" class="btn btn-primary">OK</button>
            </div>
        </div>
    </div>

    <script src="js/app.js"></script>
    <script src="js/modulos/registros.js"></script>
    <script src="js/modulos/relatorios.js"></script>
    <script src="js/modulos/insumos.js"></script>
    <script src="js/modulos/veterinario.js"></script>
</body>
</html>